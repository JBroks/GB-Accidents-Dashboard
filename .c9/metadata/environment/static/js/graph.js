{"changed":true,"filter":false,"title":"graph.js","tooltip":"/static/js/graph.js","value":"queue()\n    .defer(d3.csv, \"data/Accidents_2017_aggregated_v2.csv\")\n    .defer(d3.csv, \"data/Accidents_2016_aggregated_v2.csv\")\n    .await(makeGraphs);\n\nfunction makeGraphs(error, accData, accData16) {\n    var ndx = crossfilter(accData);\n    var ndx16 = crossfilter(accData16);\n\n\n    // Parse strings to integers\n\n    accData16.forEach(function(d) {\n        d.number_of_accidents = parseInt(d.number_of_accidents);\n    });\n\n    accData.forEach(function(d) {\n        d.number_of_accidents = parseInt(d.number_of_accidents);\n    });\n\n    accData.forEach(function(d) {\n        d.hour = parseInt(d.hour);\n    });\n\n    // Convert date to tdate data types\n\n    var parseDate = d3.time.format(\"%d/%m/%Y\").parse;\n    accData.forEach(function(d) {\n        d.date = parseDate(d.date);\n    });\n\n    // Call functions for each individual chart\n\n    showRegionSelector(ndx);\n    showAccidentsTotal(ndx);\n    showSparklineAcc(ndx16);\n    showSparklineCas(ndx16);\n    showSparklineVeh(ndx16);\n    showCasualtiesTotal(ndx);\n    showVehiclesTotal(ndx);\n    showAccidentsSeverity(ndx);\n    showAccidentsRoad(ndx);\n    showAccidentsHour(ndx);\n    showAccidentsMonth(ndx);\n    showSeverityDistribution(ndx);\n    showAccidentsAvg(ndx);\n    showCasualtiesAvg(ndx);\n    showPeakHrAcc(ndx);\n    showPeakHrAccValue(ndx);\n    showPeakHrCas(ndx);\n    showPeakHrCasValue(ndx);\n\n\n    // Render all charts\n    dc.renderAll();\n}\n\n// ------------- CHART FUNCTIONS -------------\n\n\n// ------------- Region selecter to enable user to choose region of Great Britain -------------\n\nfunction showRegionSelector(ndx) {\n    var dim = ndx.dimension(dc.pluck(\"region\"));\n    var group = dim.group();\n\n    dc.selectMenu(\"#region-selector\")\n        .dimension(dim)\n        .group(group)\n        .promptText(\"All regions\")\n        .multiple(false) //change multiple to true if you decide to allow multiple selection\n        .title(function(d) {\n            return d.key;\n        });\n}\n\n// ------------- Tile showing total number of accidents -------------\n\nfunction showAccidentsTotal(ndx) {\n    var dim = ndx.dimension(dc.pluck(\"ref\"));\n    var totalAcc = dim.group().reduceSum(dc.pluck(\"number_of_accidents\"));\n\n    dc.numberDisplay(\"#accidents-total\")\n        .formatNumber(d3.format(\".2s\"))\n        .group(totalAcc);\n}\n\n// ------------- Sparkline chart for decoration purposes -------------\n\nfunction showSparklineAcc(ndx16) {\n    var dim = ndx16.dimension(dc.pluck(\"month\"));\n    var group = dim.group().reduceSum(dc.pluck(\"number_of_accidents\"));\n\n    dc.barChart(\"#sparkline-acc\")\n        .width(120)\n        .height(30)\n        .margins({ left: 0, top: 6, right: 10, bottom: 0 })\n        .x(d3.scale.ordinal())\n        .xUnits(dc.units.ordinal)\n        .on(\"renderlet\", (function(chart) {\n            chart.selectAll(\".bar\").on(\"click\", function(d) {\n                chart.filter(null);\n            });\n            /* \"renderlet\" code suggesting how to disable click for sparkline charts found in here:\n                https://groups.google.com/forum/#!msg/dc-js-user-group/Fxg4vykNSqI/hgdj2PEomHsJ */\n            chart.selectAll(\".bar\")\n                .style(\"pointer-events\", \"none\"); //pointer event removed \n        }))\n        .on(\"pretransition\", (function(chart) {\n            chart.selectAll(\".bar\")\n                .style(\"fill\", \"#fd8b3e\");\n            chart.selectAll(\".domain\")\n                .style(\"stroke\", \"none\");\n            chart.selectAll(\"line\")\n                .style(\"stroke\", \"none\");\n        }))\n        .dimension(dim)\n        .group(group);\n}\n\n// ------------- Tile showing total number of casualties -------------\n\nfunction showCasualtiesTotal(ndx) {\n    var dim = ndx.dimension(dc.pluck(\"ref\"));\n    var totalCas = dim.group().reduceSum(dc.pluck(\"number_of_casualties\"));\n\n    dc.numberDisplay(\"#casualties-total\")\n        .formatNumber(d3.format(\".2s\"))\n        .group(totalCas);\n}\n\n// ------------- Sparkline chart for decoration purposes -------------\n\nfunction showSparklineCas(ndx16) {\n    var dim = ndx16.dimension(dc.pluck(\"month\"));\n    var group = dim.group().reduceSum(dc.pluck(\"number_of_accidents\"));\n\n    dc.barChart(\"#sparkline-cas\")\n        .width(120)\n        .height(30)\n        .margins({ left: 0, top: 6, right: 10, bottom: 0 })\n        .x(d3.scale.ordinal())\n        .xUnits(dc.units.ordinal)\n        .on(\"renderlet\", (function(chart) {\n            chart.selectAll(\".bar\").on(\"click\", function(d) {\n                chart.filter(null);\n            });\n            chart.selectAll(\".bar\")\n                .style(\"pointer-events\", \"none\");\n        }))\n        .on(\"pretransition\", (function(chart) {\n            chart.selectAll(\".bar\")\n                .style(\"fill\", \"#e6550e\");\n            chart.selectAll(\".domain\")\n                .style(\"stroke\", \"none\");\n            chart.selectAll(\"line\")\n                .style(\"stroke\", \"none\");\n        }))\n        .dimension(dim)\n        .group(group);\n}\n\n// ------------- Tile showing total number of vehicles involved in accidents -------------\n\nfunction showVehiclesTotal(ndx) {\n    var dim = ndx.dimension(dc.pluck(\"ref\"));\n    var totalVeh = dim.group().reduceSum(dc.pluck(\"number_of_vehicles\"));\n\n    dc.numberDisplay(\"#vehicles-total\")\n        .formatNumber(d3.format(\".2s\"))\n        .group(totalVeh);\n}\n\n// ------------- Sparkline chart for decoration purposes -------------\n\nfunction showSparklineVeh(ndx16) {\n    var dim = ndx16.dimension(dc.pluck(\"month\"));\n    var group = dim.group().reduceSum(dc.pluck(\"number_of_accidents\"));\n\n    dc.barChart(\"#sparkline-veh\")\n        .width(120)\n        .height(30)\n        .margins({ left: 0, top: 6, right: 10, bottom: 0 })\n        .x(d3.scale.ordinal())\n        .xUnits(dc.units.ordinal)\n        .on(\"renderlet\", (function(chart) {\n            chart.selectAll(\".bar\").on(\"click\", function(d) {\n                chart.filter(null);\n            });\n            chart.selectAll(\".bar\")\n                .style(\"pointer-events\", \"none\");\n        }))\n        .on(\"pretransition\", (function(chart) {\n            chart.selectAll(\".domain\")\n                .style(\"stroke\", \"none\");\n            chart.selectAll(\"line\")\n                .style(\"stroke\", \"none\");\n        }))\n        .dimension(dim)\n        .group(group);\n}\n\n// ------------- Pie chart presenting accidents split by severity -------------\n\nfunction showAccidentsSeverity(ndx) {\n    var dim = ndx.dimension(dc.pluck(\"accident_severity\"));\n    var totalAccBySeverity = dim.group().reduceSum(dc.pluck(\"number_of_accidents\"));\n\n    dc.pieChart(\"#accidents-severity\")\n        .width(320)\n        .height(360)\n        .slicesCap(3)\n        .innerRadius(95)\n        .dimension(dim)\n        .group(totalAccBySeverity)\n        .transitionDuration(500)\n        .colors(d3.scale.ordinal().range([\"#3182bc\", \"#fd8c3d\", \"#e6550e\"]))\n        /* pie slices colors changed to express data categories better visually\n        and highlight seriousness of an accident i.e. fatal accidents in red,\n        serious in orange and slight in blue*/\n        .renderLabel(true)\n        .legend(dc.legend().x(110).y(150).itemHeight(13).gap(5))\n        .title(function(d) {\n            return d.key + \": \" + ((d.value / d3.sum(totalAccBySeverity.all(),\n                function(d) { return d.value; })) * 100).toFixed(2) + \"%\";\n        })\n        /* solution for title inspired by the following code: \n        https://groups.google.com/forum/#!topic/dc-js-user-group/u-zPORy4-2Y */\n        .on(\"pretransition\", function(chart) {\n            chart.selectAll(\"text.pie-slice\").text(function(d) {\n                if (dc.utils.printSingleValue(\n                        (d.endAngle - d.startAngle) /\n                        (2 * Math.PI) * 100) >= 5) {\n                    return dc.utils.printSingleValue(\n                        (d.endAngle - d.startAngle) /\n                        (2 * Math.PI) * 100) + \"%\";\n                }\n            }); // solution suggested by CI Tutor: https://github.com/dc-js/dc.js/blob/master/web/examples/pie.html */\n            chart.select(\"svg\")\n                .attr(\"height\", \"100%\")\n                .attr(\"width\", \"100%\")\n                .attr(\"viewBox\", \"0 0 320 360\");\n            /* viewbox solution applied to resolve issue of responsiveness on mobile devices, solution found here:\n            https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/viewBox */\n            chart.selectAll(\".dc-legend-item text\")\n                .attr(\"fill\", \"#ffffff\")\n                .text(\"\")\n                .append(\"tspan\")\n                .text(function(d) { return d.name; })\n                .append(\"tspan\")\n                .attr(\"x\", 100)\n                .attr(\"text-anchor\", \"end\")\n                .text(function(d) { return d.data.toLocaleString(); });\n        });\n    /* toLocaleString() method, used to format number, found in here:\n    https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript */\n\n}\n\n// ------------- Pie chart presenting accidents split by road type -------------\n\nfunction showAccidentsRoad(ndx) {\n    var dim = ndx.dimension(dc.pluck(\"road_type\"));\n    var totalAccByRoad = dim.group().reduceSum(dc.pluck(\"number_of_accidents\"));\n\n    dc.pieChart(\"#rd-type-split\")\n        .width(320)\n        .height(360)\n        .slicesCap(8)\n        .innerRadius(95)\n        .dimension(dim)\n        .group(totalAccByRoad)\n        .transitionDuration(500)\n        .renderLabel(true)\n        .legend(dc.legend().x(85).y(125).itemHeight(13).gap(5))\n        .title(function(d) {\n            return d.key + \": \" + ((d.value / d3.sum(totalAccByRoad.all(),\n                function(d) { return d.value; })) * 100).toFixed(2) + \"%\";\n        }) //function added to display text on slices large enough to fit in all text\n        .on(\"pretransition\", function(chart) {\n            chart.selectAll(\"text.pie-slice\").text(function(d) {\n                if (dc.utils.printSingleValue(\n                        (d.endAngle - d.startAngle) /\n                        (2 * Math.PI) * 100) >= 5) {\n                    return dc.utils.printSingleValue(\n                        (d.endAngle - d.startAngle) /\n                        (2 * Math.PI) * 100) + \"%\";\n                }\n            });\n            chart.select(\"svg\")\n                .attr(\"height\", \"100%\")\n                .attr(\"width\", \"100%\")\n                .attr(\"viewBox\", \"0 0 320 360\");\n            /* viewbox solution applied to resolve issue of responsiveness\n            on mobile devices, solution found here:\n            https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/viewBox*/\n            chart.selectAll(\".dc-legend-item text\")\n                .attr(\"fill\", \"#ffffff\")\n                .text(\"\")\n                .append(\"tspan\")\n                .text(function(d) { return d.name; })\n                .append(\"tspan\")\n                .attr(\"x\", 150)\n                .attr(\"text-anchor\", \"end\")\n                .text(function(d) {\n                    return d.data.toLocaleString();\n                }); // editing text displayed in the legend\n        });\n}\n\n// ------------- Stacked bar chart presenting accident severity by speed limit -------------\n\nfunction showSeverityDistribution(ndx) {\n\n    function severityBySpeed(dimension, severity) {\n        return dimension.group().reduce(\n            function(p, v) {\n                p.total += v.number_of_accidents;\n                if (v.accident_severity === severity) {\n                    p.by_severity += v.number_of_accidents;\n                }\n                return p;\n            },\n            function(p, v) {\n                p.total -= v.number_of_accidents;\n                if (v.accident_severity === severity) {\n                    p.by_severity -= v.number_of_accidents;\n                }\n                return p;\n            },\n            function() {\n                return { total: 0, by_severity: 0 };\n            }\n        );\n    }\n\n    var dim = ndx.dimension(dc.pluck(\"speed_limit\"));\n    var slightBySpeeed = severityBySpeed(dim, \"Slight\");\n    var seriousBySpeeed = severityBySpeed(dim, \"Serious\");\n    var fatalBySpeeed = severityBySpeed(dim, \"Fatal\");\n\n    dc.barChart(\"#severity-distribution\")\n        .width(380)\n        .height(360)\n        .dimension(dim)\n        .colors(d3.scale.ordinal().range([\"#e6550e\", \"#fd8c3d\", \"#3182bc\"]))\n        .group(fatalBySpeeed, \"Fatal\")\n        .stack(seriousBySpeeed, \"Serious\")\n        .stack(slightBySpeeed, \"Slight\")\n        .valueAccessor(function(d) {\n            if (d.value.total > 0) {\n                return (d.value.by_severity / d.value.total) * 100;\n            }\n            else {\n                return 0;\n            }\n        })\n        /* title function specified to display % value\n        and more descriptive information */\n        .title(\"Fatal\", function(d) {\n            var percent = (d.value.by_severity / d.value.total) * 100;\n            return d.key + \" mph: \" + percent.toFixed(1) +\n                \"% of fatal accidents\";\n        })\n        .title(\"Serious\", function(d) {\n            var percent = (d.value.by_severity / d.value.total) * 100;\n            return d.key + \" mph: \" + percent.toFixed(1) +\n                \"% of serious accidents\";\n        })\n        .title(\"Slight\", function(d) {\n            var percent = (d.value.by_severity / d.value.total) * 100;\n            return d.key + \" mph: \" + percent.toFixed(1) +\n                \"% of slight accidents\";\n        })\n        .on(\"pretransition\", function(chart) {\n            chart.select(\"svg\")\n                .attr(\"height\", \"100%\")\n                .attr(\"width\", \"100%\")\n                .attr(\"viewBox\", \"0 0 380 360\");\n            /* viewbox solution applied to resolve issue of responsiveness on mobile devices, solution found here:\n            https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/viewBox*/\n            chart.selectAll(\".dc-chart text\")\n                .attr(\"fill\", \"#E5E5E5\");\n            chart.selectAll(\".dc-legend-item text\")\n                .attr(\"fill\", \"#ffffff\");\n            chart.selectAll(\"line\")\n                .style(\"stroke\", \"#E5E5E5\");\n            chart.selectAll(\".domain\")\n                .style(\"stroke\", \"#E5E5E5\");\n            chart.selectAll(\".x-axis-label\")\n                .attr(\"font-size\", \"12px\");\n        })\n        .legend(dc.legend().x(100).y(345).itemHeight(15).gap(5)\n            .horizontal(true))\n        .margins({ top: 10, right: 30, bottom: 40, left: 40 })\n        .x(d3.scale.ordinal())\n        .xUnits(dc.units.ordinal)\n        .xAxisLabel(\"Speed limit (mph)\", 25)\n        .yAxis().tickFormat(function(d) { return d + \"%\"; });\n}\n\n// ------------- Composite line chart presenting total number of accidents by month -------------\n\nfunction showAccidentsMonth(ndx) {\n    var dim = ndx.dimension(dc.pluck(\"date\"));\n\n    var totalAccByHour = dim.group().reduceSum(dc.pluck(\"number_of_accidents\"));\n    var totalCasByHour = dim.group().reduceSum(dc.pluck(\"number_of_casualties\"));\n    var totalVehByHour = dim.group().reduceSum(dc.pluck(\"number_of_vehicles\"));\n\n    var minDate = dim.bottom(1)[0].date;\n    var maxDate = dim.top(1)[0].date;\n\n    var composite = dc.compositeChart(\"#composite-month\");\n\n    composite\n        .width(840)\n        .height(310)\n        .margins({ top: 10, right: 60, bottom: 45, left: 40 })\n        .dimension(dim)\n        .elasticY(true)\n        .legend(dc.legend().x(230).y(320).itemHeight(15).gap(5)\n            .horizontal(true).itemWidth(100))\n        .x(d3.time.scale().domain([minDate, maxDate]))\n        .y(d3.scale.linear())\n        .transitionDuration(500)\n        .shareTitle(false) //shared title disabled to display category specific title\n        .on(\"renderlet\", (function(chart) {\n            chart.selectAll(\".dot\")\n                .style(\"cursor\", \"pointer\");\n        }))\n        .on(\"pretransition\", function(chart) {\n            chart.select(\"svg\")\n                .attr(\"height\", \"100%\")\n                .attr(\"width\", \"100%\")\n                .attr(\"viewBox\", \"0 0 840 340\");\n            /* viewbox solution applied to resolve issue of responsiveness on mobile devices, solution found here:\n            https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/viewBox */\n            chart.selectAll(\".dc-chart text\")\n                .attr(\"fill\", \"#E5E5E5\");\n            chart.selectAll(\".dc-legend-item text\")\n                .attr(\"fill\", \"#ffffff\");\n            chart.selectAll(\"line\")\n                .style(\"stroke\", \"#E5E5E5\");\n            chart.selectAll(\".domain\")\n                .style(\"stroke\", \"#E5E5E5\");\n            chart.selectAll(\".line\")\n                .style(\"stroke-width\", \"2.5\");\n        })\n        .compose([\n            dc.lineChart(composite)\n            .group(totalAccByHour, \"Accidents\")\n            .interpolate(\"monotone\")\n            .title(function(d) {\n                var numberWithCommas = d.value.toLocaleString();\n                return numberWithCommas + \" accidents\";\n            }) //title function applied to display more explanatory text and edit number format\n            .colors(\"#ff7e0e\")\n            .dotRadius(10)\n            .renderDataPoints({ radius: 4 }),\n            dc.lineChart(composite)\n            .interpolate(\"monotone\")\n            .group(totalCasByHour, \"Casualties\")\n            .title(function(d) {\n                var numberWithCommas = d.value.toLocaleString();\n                return numberWithCommas + \" casualties\";\n            }) //title function applied to display more explanatory text and edit number format\n            .colors(\"#d95350\")\n            .dotRadius(10)\n            .renderDataPoints({ radius: 4 }),\n            dc.lineChart(composite)\n            .group(totalVehByHour, \"Vehicles involved\")\n            .interpolate(\"monotone\")\n            .title(function(d) {\n                var numberWithCommas = d.value.toLocaleString();\n                return numberWithCommas + \" vehicles involved\";\n            }) //title function applied to display more explanatory text and edit number format\n            .colors(\"#1e77b4\")\n            .dotRadius(10)\n            .renderDataPoints({ radius: 4 })\n        ])\n        .brushOn(false)\n        .yAxisPadding(\"5%\")\n        .elasticX(true)\n        .xAxisPadding(\"8%\")\n        .xAxis().ticks(12).tickFormat(d3.time.format(\"%b\")).outerTickSize(0);\n    /* elasticX, outerTickSize and xAxisPadding applied to fix the issue with data point cut off\n    (the same solution applied for yAxis) */\n\n    composite.yAxis().ticks(5).outerTickSize(0);\n}\n\n// ------------- Composite line chart presenting total number of accidents by hour -------------\n\nfunction showAccidentsHour(ndx) {\n    var dim = ndx.dimension(dc.pluck(\"hour\"));\n\n    var totalAccByHour = dim.group().reduceSum(dc.pluck(\"number_of_accidents\"));\n    var totalCasByHour = dim.group().reduceSum(dc.pluck(\"number_of_casualties\"));\n    var totalVehByHour = dim.group().reduceSum(dc.pluck(\"number_of_vehicles\"));\n\n    var composite = dc.compositeChart(\"#composite-hour\");\n\n    composite\n        .width(840)\n        .height(310)\n        .margins({ top: 20, right: 60, bottom: 45, left: 40 })\n        .dimension(dim)\n        .elasticY(true)\n        .legend(dc.legend().x(230).y(320).itemHeight(15).gap(5)\n            .horizontal(true).itemWidth(100))\n        .x(d3.scale.linear().domain([0, 23]))\n        .y(d3.scale.linear())\n        .transitionDuration(500)\n        .shareTitle(false)\n        .on(\"renderlet\", (function(chart) {\n            chart.selectAll(\".dot\")\n                .style(\"cursor\", \"pointer\");\n        }))\n        .on(\"pretransition\", function(chart) {\n            chart.selectAll(\"g.x text\")\n                .attr(\"dx\", \"-30\")\n                .attr(\"dy\", \"-5\")\n                .attr(\"transform\", \"rotate(-90)\");\n            /* solution that enabled label rotation found in here: \n            https://groups.google.com/forum/#!msg/dc-js-user-group/TjXkTTbOhsQ/7WU14__RGoI */\n            chart.select(\"svg\")\n                .attr(\"height\", \"100%\")\n                .attr(\"width\", \"100%\")\n                .attr(\"viewBox\", \"0 0 840 340\");\n            /* viewbox solution applied to resolve issue of responsiveness on mobile devices, solution found here:\n            https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/viewBox*/\n            chart.selectAll(\".dc-chart text\")\n                .attr(\"fill\", \"#E5E5E5\");\n            chart.selectAll(\".dc-legend-item text\")\n                .attr(\"fill\", \"#ffffff\");\n            chart.selectAll(\"line\")\n                .style(\"stroke\", \"#E5E5E5\");\n            chart.selectAll(\".domain\")\n                .style(\"stroke\", \"#E5E5E5\");\n            chart.selectAll(\".line\")\n                .style(\"stroke-width\", \"2.5\");\n        })\n        .compose([\n            dc.lineChart(composite)\n            .group(totalAccByHour, \"Accidents\")\n            .interpolate(\"monotone\")\n            .title(function(d) {\n                var numberWithCommas = d.value.toLocaleString();\n                if (d.key < 10) {\n                    return numberWithCommas + \" accidents at \" + \"0\" +\n                        d.key + \":00\";\n                }\n                else {\n                    return numberWithCommas + \" accidents at \" +\n                        d.key + \":00\";\n                }\n            }) // title function applied to display more explanatory text\n            .colors(\"#ff7e0e\")\n            .dotRadius(10)\n            .renderDataPoints({ radius: 4 }),\n            dc.lineChart(composite)\n            .group(totalCasByHour, \"Casualties\")\n            .interpolate(\"monotone\")\n            .title(function(d) {\n                var numberWithCommas = d.value.toLocaleString();\n                if (d.key < 10) {\n                    return numberWithCommas + \" casualties at \" + \"0\" +\n                        d.key + \":00\";\n                }\n                else {\n                    return numberWithCommas + \" casualties at \" +\n                        d.key + \":00\";\n                }\n            }) // title function applied to display more explanatory text\n            .colors(\"#d95350\")\n            .dotRadius(10)\n            .renderDataPoints({ radius: 4 }),\n            dc.lineChart(composite)\n            .group(totalVehByHour, \"Vehicles involved\")\n            .interpolate(\"monotone\")\n            .title(function(d) {\n                var numberWithCommas = d.value.toLocaleString();\n                if (d.key < 10) {\n                    return numberWithCommas + \" vehicles involved at \" + \"0\" +\n                        d.key + \":00\";\n                }\n                else {\n                    return numberWithCommas + \" vehicles involved at \" +\n                        d.key + \":00\";\n                }\n            })\n            .colors(\"#1e77b4\")\n            .dotRadius(10)\n            .renderDataPoints({ radius: 4 })\n        ])\n        .brushOn(false)\n        .yAxisPadding(\"5%\")\n        .elasticX(true)\n        .xAxisPadding(\"2%\")\n        .xAxis().ticks(24).tickFormat(function(d) {\n            if (d < 10) {\n                return \"0\" + d + \":00\";\n            }\n            else { return d + \":00\"; }\n        }).outerTickSize(0);\n    /* elasticX, outerTickSize and xAxisPadding applied to fix the issue with data point cut off\n    (the same solution applied for yAxis) */\n    composite.yAxis().ticks(5).outerTickSize(0);\n}\n\n// ------------- Tile showing average numbers of accidents / casualties per day -------------\n\nfunction showAccidentsAvg(ndx) {\n    var dim = ndx.dimension(dc.pluck(\"ref\"));\n    var totalAcc = dim.group().reduceSum(dc.pluck(\"number_of_accidents\"));\n\n    dc.numberDisplay(\"#accidents-average\")\n        .formatNumber(d3.format(\",.0f\"))\n        .group(totalAcc)\n        .valueAccessor(function(d) {\n            return (d.value / 365);\n        });\n}\n\nfunction showCasualtiesAvg(ndx) {\n    var dim = ndx.dimension(dc.pluck(\"ref\"));\n    var totalAcc = dim.group().reduceSum(dc.pluck(\"number_of_casualties\"));\n\n    dc.numberDisplay(\"#casualties-average\")\n        .formatNumber(d3.format(\",.0f\"))\n        .group(totalAcc)\n        .valueAccessor(function(d) {\n            return (d.value / 365);\n        });\n}\n\n// ------------- Tile showing peak hours and its values -------------\n\n\n// ------------- Peak Accidents -------------\nfunction showPeakHrAcc(ndx) {\n    var dim = ndx.dimension(dc.pluck(\"hour\"));\n\n    var totalAccByHour = dim.group().reduceSum(dc.pluck(\"number_of_accidents\"));\n\n    dc.numberDisplay('#accidents-peak-hr')\n        .group(totalAccByHour)\n        .valueAccessor(function(d) {\n            return totalAccByHour.top(1)[0].key;\n        });\n}\n\nfunction showPeakHrAccValue(ndx) {\n    var dim = ndx.dimension(dc.pluck(\"hour\"));\n\n    var totalAccByHour = dim.group().reduceSum(dc.pluck(\"number_of_accidents\"));\n\n    dc.numberDisplay('#accidents-peak-value')\n        .formatNumber(d3.format(\",.0f\"))\n        .group(totalAccByHour)\n        .valueAccessor(function(d) {\n            return totalAccByHour.top(1)[0].value / 365;\n        });\n}\n\n// ------------- Peak Casualties -------------\n\nfunction showPeakHrCas(ndx) {\n    var dim = ndx.dimension(dc.pluck(\"hour\"));\n\n    var totalCasByHour = dim.group().reduceSum(dc.pluck(\"number_of_casualties\"));\n\n    dc.numberDisplay('#casualties-peak-hr')\n        .group(totalCasByHour)\n        .valueAccessor(function(d) {\n            return totalCasByHour.top(1)[0].key;\n        });\n}\n\nfunction showPeakHrCasValue(ndx) {\n    var dim = ndx.dimension(dc.pluck(\"hour\"));\n\n    var totalCasByHour = dim.group().reduceSum(dc.pluck(\"number_of_casualties\"));\n\n    dc.numberDisplay('#casualties-peak-value')\n        .formatNumber(d3.format(\",.0f\"))\n        .group(totalCasByHour)\n        .valueAccessor(function(d) {\n            return totalCasByHour.top(1)[0].value / 365;\n        });\n}\n","undoManager":{"mark":-2,"position":100,"stack":[[{"start":{"row":418,"column":62},"end":{"row":420,"column":32},"action":"remove","lines":["","        ","        .curve(d3.curveCardinal)"],"id":12875}],[{"start":{"row":424,"column":29},"end":{"row":425,"column":0},"action":"insert","lines":["",""],"id":12876},{"start":{"row":425,"column":0},"end":{"row":425,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":425,"column":8},"end":{"row":425,"column":33},"action":"insert","lines":[".curve(d3.curveMonotoneX)"],"id":12877}],[{"start":{"row":424,"column":29},"end":{"row":425,"column":33},"action":"remove","lines":["","        .curve(d3.curveMonotoneX)"],"id":12878}],[{"start":{"row":424,"column":29},"end":{"row":425,"column":0},"action":"insert","lines":["",""],"id":12879},{"start":{"row":425,"column":0},"end":{"row":425,"column":8},"action":"insert","lines":["        "]},{"start":{"row":425,"column":8},"end":{"row":425,"column":9},"action":"insert","lines":["."]},{"start":{"row":425,"column":9},"end":{"row":425,"column":10},"action":"insert","lines":["c"]},{"start":{"row":425,"column":10},"end":{"row":425,"column":11},"action":"insert","lines":["u"]},{"start":{"row":425,"column":11},"end":{"row":425,"column":12},"action":"insert","lines":["r"]}],[{"start":{"row":425,"column":12},"end":{"row":425,"column":13},"action":"insert","lines":["v"],"id":12880},{"start":{"row":425,"column":13},"end":{"row":425,"column":14},"action":"insert","lines":["e"]}],[{"start":{"row":425,"column":14},"end":{"row":425,"column":16},"action":"insert","lines":["()"],"id":12881}],[{"start":{"row":425,"column":15},"end":{"row":425,"column":44},"action":"insert","lines":["d3.curveCardinal.tension(0.5)"],"id":12882}],[{"start":{"row":425,"column":8},"end":{"row":425,"column":31},"action":"remove","lines":[".curve(d3.curveCardinal"],"id":12883}],[{"start":{"row":425,"column":21},"end":{"row":425,"column":22},"action":"remove","lines":[")"],"id":12884}],[{"start":{"row":424,"column":29},"end":{"row":425,"column":0},"action":"insert","lines":["",""],"id":12885},{"start":{"row":425,"column":0},"end":{"row":425,"column":8},"action":"insert","lines":["        "]},{"start":{"row":425,"column":8},"end":{"row":425,"column":9},"action":"insert","lines":["."]},{"start":{"row":425,"column":9},"end":{"row":425,"column":10},"action":"insert","lines":["i"]},{"start":{"row":425,"column":10},"end":{"row":425,"column":11},"action":"insert","lines":["n"]},{"start":{"row":425,"column":11},"end":{"row":425,"column":12},"action":"insert","lines":["t"]},{"start":{"row":425,"column":12},"end":{"row":425,"column":13},"action":"insert","lines":["e"]},{"start":{"row":425,"column":13},"end":{"row":425,"column":14},"action":"insert","lines":["r"]},{"start":{"row":425,"column":14},"end":{"row":425,"column":15},"action":"insert","lines":["p"]},{"start":{"row":425,"column":15},"end":{"row":425,"column":16},"action":"insert","lines":["o"]}],[{"start":{"row":425,"column":16},"end":{"row":425,"column":17},"action":"insert","lines":["l"],"id":12886},{"start":{"row":425,"column":17},"end":{"row":425,"column":18},"action":"insert","lines":["a"]},{"start":{"row":425,"column":18},"end":{"row":425,"column":19},"action":"insert","lines":["t"]},{"start":{"row":425,"column":19},"end":{"row":425,"column":20},"action":"insert","lines":["e"]}],[{"start":{"row":425,"column":9},"end":{"row":425,"column":20},"action":"remove","lines":["interpolate"],"id":12887},{"start":{"row":425,"column":9},"end":{"row":425,"column":20},"action":"insert","lines":["interpolate"]}],[{"start":{"row":425,"column":20},"end":{"row":425,"column":22},"action":"insert","lines":["()"],"id":12888}],[{"start":{"row":425,"column":21},"end":{"row":425,"column":22},"action":"insert","lines":["d"],"id":12889},{"start":{"row":425,"column":22},"end":{"row":425,"column":23},"action":"insert","lines":["3"]},{"start":{"row":425,"column":23},"end":{"row":425,"column":24},"action":"insert","lines":["."]}],[{"start":{"row":425,"column":24},"end":{"row":425,"column":25},"action":"insert","lines":["c"],"id":12890},{"start":{"row":425,"column":25},"end":{"row":425,"column":26},"action":"insert","lines":["u"]},{"start":{"row":425,"column":26},"end":{"row":425,"column":27},"action":"insert","lines":["r"]},{"start":{"row":425,"column":27},"end":{"row":425,"column":28},"action":"insert","lines":["v"]},{"start":{"row":425,"column":28},"end":{"row":425,"column":29},"action":"insert","lines":["e"]}],[{"start":{"row":425,"column":21},"end":{"row":425,"column":29},"action":"remove","lines":["d3.curve"],"id":12891},{"start":{"row":425,"column":21},"end":{"row":425,"column":50},"action":"insert","lines":["d3.curveCardinal.tension(0.5)"]}],[{"start":{"row":425,"column":51},"end":{"row":426,"column":21},"action":"remove","lines":["","        .tension(0.5)"],"id":12892}],[{"start":{"row":425,"column":37},"end":{"row":425,"column":50},"action":"remove","lines":[".tension(0.5)"],"id":12893}],[{"start":{"row":425,"column":38},"end":{"row":426,"column":0},"action":"insert","lines":["",""],"id":12894},{"start":{"row":426,"column":0},"end":{"row":426,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":426,"column":8},"end":{"row":426,"column":21},"action":"insert","lines":[".tension(0.5)"],"id":12895}],[{"start":{"row":424,"column":29},"end":{"row":426,"column":21},"action":"remove","lines":["","        .interpolate(d3.curveCardinal)","        .tension(0.5)"],"id":12896}],[{"start":{"row":424,"column":29},"end":{"row":425,"column":0},"action":"insert","lines":["",""],"id":12897},{"start":{"row":425,"column":0},"end":{"row":425,"column":8},"action":"insert","lines":["        "]},{"start":{"row":425,"column":8},"end":{"row":425,"column":9},"action":"insert","lines":["."]},{"start":{"row":425,"column":9},"end":{"row":425,"column":10},"action":"insert","lines":["i"]}],[{"start":{"row":425,"column":10},"end":{"row":425,"column":11},"action":"insert","lines":["n"],"id":12898},{"start":{"row":425,"column":11},"end":{"row":425,"column":12},"action":"insert","lines":["t"]},{"start":{"row":425,"column":12},"end":{"row":425,"column":13},"action":"insert","lines":["e"]},{"start":{"row":425,"column":13},"end":{"row":425,"column":14},"action":"insert","lines":["e"]}],[{"start":{"row":425,"column":13},"end":{"row":425,"column":14},"action":"remove","lines":["e"],"id":12899}],[{"start":{"row":425,"column":13},"end":{"row":425,"column":14},"action":"insert","lines":["r"],"id":12900},{"start":{"row":425,"column":14},"end":{"row":425,"column":15},"action":"insert","lines":["p"]},{"start":{"row":425,"column":15},"end":{"row":425,"column":16},"action":"insert","lines":["o"]},{"start":{"row":425,"column":16},"end":{"row":425,"column":17},"action":"insert","lines":["l"]},{"start":{"row":425,"column":17},"end":{"row":425,"column":18},"action":"insert","lines":["a"]},{"start":{"row":425,"column":18},"end":{"row":425,"column":19},"action":"insert","lines":["t"]}],[{"start":{"row":425,"column":19},"end":{"row":425,"column":20},"action":"insert","lines":["e"],"id":12901}],[{"start":{"row":425,"column":20},"end":{"row":425,"column":22},"action":"insert","lines":["()"],"id":12902}],[{"start":{"row":425,"column":8},"end":{"row":425,"column":22},"action":"remove","lines":[".interpolate()"],"id":12903}],[{"start":{"row":425,"column":4},"end":{"row":425,"column":8},"action":"remove","lines":["    "],"id":12904},{"start":{"row":425,"column":0},"end":{"row":425,"column":4},"action":"remove","lines":["    "]},{"start":{"row":424,"column":29},"end":{"row":425,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":451,"column":43},"end":{"row":452,"column":0},"action":"insert","lines":["",""],"id":12905},{"start":{"row":452,"column":0},"end":{"row":452,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":452,"column":8},"end":{"row":452,"column":22},"action":"insert","lines":[".interpolate()"],"id":12906}],[{"start":{"row":452,"column":21},"end":{"row":452,"column":22},"action":"insert","lines":["c"],"id":12907},{"start":{"row":452,"column":22},"end":{"row":452,"column":23},"action":"insert","lines":["a"]},{"start":{"row":452,"column":23},"end":{"row":452,"column":24},"action":"insert","lines":["r"]},{"start":{"row":452,"column":24},"end":{"row":452,"column":25},"action":"insert","lines":["d"]},{"start":{"row":452,"column":25},"end":{"row":452,"column":26},"action":"insert","lines":["i"]},{"start":{"row":452,"column":26},"end":{"row":452,"column":27},"action":"insert","lines":["n"]},{"start":{"row":452,"column":27},"end":{"row":452,"column":28},"action":"insert","lines":["a"]}],[{"start":{"row":452,"column":28},"end":{"row":452,"column":29},"action":"insert","lines":["l"],"id":12908}],[{"start":{"row":452,"column":21},"end":{"row":452,"column":22},"action":"insert","lines":["\""],"id":12909}],[{"start":{"row":452,"column":30},"end":{"row":452,"column":31},"action":"insert","lines":["\""],"id":12910}],[{"start":{"row":452,"column":32},"end":{"row":453,"column":0},"action":"insert","lines":["",""],"id":12911},{"start":{"row":453,"column":0},"end":{"row":453,"column":8},"action":"insert","lines":["        "]},{"start":{"row":453,"column":8},"end":{"row":453,"column":9},"action":"insert","lines":["."]},{"start":{"row":453,"column":9},"end":{"row":453,"column":10},"action":"insert","lines":["t"]},{"start":{"row":453,"column":10},"end":{"row":453,"column":11},"action":"insert","lines":["e"]},{"start":{"row":453,"column":11},"end":{"row":453,"column":12},"action":"insert","lines":["n"]}],[{"start":{"row":453,"column":12},"end":{"row":453,"column":13},"action":"insert","lines":["s"],"id":12912},{"start":{"row":453,"column":13},"end":{"row":453,"column":14},"action":"insert","lines":["i"]},{"start":{"row":453,"column":14},"end":{"row":453,"column":15},"action":"insert","lines":["o"]},{"start":{"row":453,"column":15},"end":{"row":453,"column":16},"action":"insert","lines":["n"]}],[{"start":{"row":453,"column":16},"end":{"row":453,"column":18},"action":"insert","lines":["()"],"id":12913}],[{"start":{"row":453,"column":17},"end":{"row":453,"column":18},"action":"insert","lines":["0"],"id":12914},{"start":{"row":453,"column":18},"end":{"row":453,"column":19},"action":"insert","lines":["."]},{"start":{"row":453,"column":19},"end":{"row":453,"column":20},"action":"insert","lines":["5"]}],[{"start":{"row":453,"column":19},"end":{"row":453,"column":20},"action":"remove","lines":["5"],"id":12915},{"start":{"row":453,"column":19},"end":{"row":453,"column":20},"action":"insert","lines":["2"]}],[{"start":{"row":453,"column":17},"end":{"row":453,"column":20},"action":"remove","lines":["0.2"],"id":12916},{"start":{"row":453,"column":17},"end":{"row":453,"column":18},"action":"insert","lines":["1"]}],[{"start":{"row":453,"column":17},"end":{"row":453,"column":18},"action":"remove","lines":["1"],"id":12917},{"start":{"row":453,"column":17},"end":{"row":453,"column":18},"action":"insert","lines":["0"]},{"start":{"row":453,"column":18},"end":{"row":453,"column":19},"action":"insert","lines":["."]},{"start":{"row":453,"column":19},"end":{"row":453,"column":20},"action":"insert","lines":["7"]}],[{"start":{"row":460,"column":7},"end":{"row":460,"column":8},"action":"insert","lines":["/"],"id":12918},{"start":{"row":460,"column":8},"end":{"row":460,"column":9},"action":"insert","lines":["/"]}],[{"start":{"row":459,"column":22},"end":{"row":459,"column":23},"action":"insert","lines":[","],"id":12919}],[{"start":{"row":453,"column":19},"end":{"row":453,"column":20},"action":"remove","lines":["7"],"id":12920},{"start":{"row":453,"column":19},"end":{"row":453,"column":20},"action":"insert","lines":["8"]}],[{"start":{"row":453,"column":19},"end":{"row":453,"column":20},"action":"remove","lines":["8"],"id":12921}],[{"start":{"row":453,"column":19},"end":{"row":453,"column":20},"action":"insert","lines":["6"],"id":12922}],[{"start":{"row":453,"column":19},"end":{"row":453,"column":20},"action":"remove","lines":["6"],"id":12923}],[{"start":{"row":453,"column":19},"end":{"row":453,"column":20},"action":"insert","lines":["5"],"id":12924}],[{"start":{"row":453,"column":19},"end":{"row":453,"column":20},"action":"remove","lines":["5"],"id":12925}],[{"start":{"row":453,"column":19},"end":{"row":453,"column":20},"action":"insert","lines":["6"],"id":12926}],[{"start":{"row":460,"column":9},"end":{"row":460,"column":10},"action":"remove","lines":[" "],"id":12927},{"start":{"row":460,"column":8},"end":{"row":460,"column":9},"action":"remove","lines":["/"]},{"start":{"row":460,"column":7},"end":{"row":460,"column":8},"action":"remove","lines":["/"]}],[{"start":{"row":460,"column":7},"end":{"row":460,"column":8},"action":"insert","lines":[" "],"id":12928},{"start":{"row":460,"column":8},"end":{"row":460,"column":9},"action":"insert","lines":[" "]}],[{"start":{"row":459,"column":22},"end":{"row":459,"column":23},"action":"remove","lines":[","],"id":12929}],[{"start":{"row":460,"column":8},"end":{"row":460,"column":9},"action":"remove","lines":[" "],"id":12930},{"start":{"row":460,"column":4},"end":{"row":460,"column":8},"action":"remove","lines":["    "]},{"start":{"row":460,"column":0},"end":{"row":460,"column":4},"action":"remove","lines":["    "]},{"start":{"row":459,"column":22},"end":{"row":460,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":459,"column":22},"end":{"row":460,"column":0},"action":"insert","lines":["",""],"id":12931},{"start":{"row":460,"column":0},"end":{"row":460,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":449,"column":0},"end":{"row":449,"column":8},"action":"insert","lines":["        "],"id":12932},{"start":{"row":450,"column":0},"end":{"row":450,"column":2},"action":"insert","lines":["  "]},{"start":{"row":450,"column":10},"end":{"row":450,"column":12},"action":"insert","lines":["  "]},{"start":{"row":451,"column":0},"end":{"row":451,"column":4},"action":"insert","lines":["    "]},{"start":{"row":452,"column":0},"end":{"row":452,"column":4},"action":"insert","lines":["    "]},{"start":{"row":453,"column":8},"end":{"row":453,"column":12},"action":"insert","lines":["    "]},{"start":{"row":454,"column":0},"end":{"row":454,"column":4},"action":"insert","lines":["    "]},{"start":{"row":455,"column":0},"end":{"row":455,"column":2},"action":"insert","lines":["  "]},{"start":{"row":455,"column":14},"end":{"row":455,"column":16},"action":"insert","lines":["  "]},{"start":{"row":456,"column":12},"end":{"row":456,"column":16},"action":"insert","lines":["    "]},{"start":{"row":457,"column":0},"end":{"row":457,"column":4},"action":"insert","lines":["    "]},{"start":{"row":458,"column":8},"end":{"row":458,"column":12},"action":"insert","lines":["    "]},{"start":{"row":459,"column":8},"end":{"row":459,"column":12},"action":"insert","lines":["    "]},{"start":{"row":460,"column":0},"end":{"row":460,"column":2},"action":"insert","lines":["  "]},{"start":{"row":460,"column":10},"end":{"row":460,"column":12},"action":"insert","lines":["  "]},{"start":{"row":461,"column":8},"end":{"row":461,"column":12},"action":"insert","lines":["    "]},{"start":{"row":462,"column":0},"end":{"row":462,"column":4},"action":"insert","lines":["    "]},{"start":{"row":463,"column":8},"end":{"row":463,"column":12},"action":"insert","lines":["    "]},{"start":{"row":464,"column":0},"end":{"row":464,"column":4},"action":"insert","lines":["    "]},{"start":{"row":465,"column":0},"end":{"row":465,"column":2},"action":"insert","lines":["  "]},{"start":{"row":465,"column":14},"end":{"row":465,"column":16},"action":"insert","lines":["  "]},{"start":{"row":466,"column":0},"end":{"row":466,"column":4},"action":"insert","lines":["    "]},{"start":{"row":467,"column":0},"end":{"row":467,"column":4},"action":"insert","lines":["    "]},{"start":{"row":468,"column":8},"end":{"row":468,"column":12},"action":"insert","lines":["    "]},{"start":{"row":469,"column":0},"end":{"row":469,"column":4},"action":"insert","lines":["    "]},{"start":{"row":470,"column":0},"end":{"row":470,"column":2},"action":"insert","lines":["  "]},{"start":{"row":470,"column":10},"end":{"row":470,"column":12},"action":"insert","lines":["  "]},{"start":{"row":471,"column":0},"end":{"row":471,"column":4},"action":"insert","lines":["    "]},{"start":{"row":472,"column":0},"end":{"row":472,"column":4},"action":"insert","lines":["    "]},{"start":{"row":473,"column":12},"end":{"row":473,"column":16},"action":"insert","lines":["    "]},{"start":{"row":474,"column":12},"end":{"row":474,"column":16},"action":"insert","lines":["    "]},{"start":{"row":475,"column":0},"end":{"row":475,"column":2},"action":"insert","lines":["  "]},{"start":{"row":475,"column":10},"end":{"row":475,"column":12},"action":"insert","lines":["  "]},{"start":{"row":476,"column":8},"end":{"row":476,"column":12},"action":"insert","lines":["    "]},{"start":{"row":477,"column":0},"end":{"row":477,"column":4},"action":"insert","lines":["    "]},{"start":{"row":478,"column":8},"end":{"row":478,"column":12},"action":"insert","lines":["    "]},{"start":{"row":479,"column":4},"end":{"row":479,"column":8},"action":"insert","lines":["    "]},{"start":{"row":480,"column":0},"end":{"row":480,"column":2},"action":"insert","lines":["  "]},{"start":{"row":480,"column":6},"end":{"row":480,"column":8},"action":"insert","lines":["  "]},{"start":{"row":481,"column":0},"end":{"row":481,"column":3},"action":"insert","lines":["   "]},{"start":{"row":481,"column":7},"end":{"row":481,"column":8},"action":"insert","lines":[" "]},{"start":{"row":482,"column":0},"end":{"row":482,"column":4},"action":"insert","lines":["    "]},{"start":{"row":483,"column":4},"end":{"row":483,"column":8},"action":"insert","lines":["    "]},{"start":{"row":484,"column":0},"end":{"row":484,"column":4},"action":"insert","lines":["    "]},{"start":{"row":485,"column":0},"end":{"row":485,"column":4},"action":"insert","lines":["    "]},{"start":{"row":486,"column":0},"end":{"row":486,"column":4},"action":"insert","lines":["    "]},{"start":{"row":488,"column":0},"end":{"row":488,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":452,"column":26},"end":{"row":452,"column":34},"action":"remove","lines":["cardinal"],"id":12933},{"start":{"row":452,"column":26},"end":{"row":452,"column":27},"action":"insert","lines":["m"]},{"start":{"row":452,"column":27},"end":{"row":452,"column":28},"action":"insert","lines":["o"]},{"start":{"row":452,"column":28},"end":{"row":452,"column":29},"action":"insert","lines":["n"]},{"start":{"row":452,"column":29},"end":{"row":452,"column":30},"action":"insert","lines":["o"]},{"start":{"row":452,"column":30},"end":{"row":452,"column":31},"action":"insert","lines":["t"]},{"start":{"row":452,"column":31},"end":{"row":452,"column":32},"action":"insert","lines":["o"]},{"start":{"row":452,"column":32},"end":{"row":452,"column":33},"action":"insert","lines":["n"]}],[{"start":{"row":452,"column":33},"end":{"row":452,"column":34},"action":"insert","lines":["e"],"id":12934}],[{"start":{"row":452,"column":36},"end":{"row":453,"column":25},"action":"remove","lines":["","            .tension(0.6)"],"id":12935}],[{"start":{"row":461,"column":48},"end":{"row":462,"column":0},"action":"insert","lines":["",""],"id":12936},{"start":{"row":462,"column":0},"end":{"row":462,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":462,"column":8},"end":{"row":462,"column":12},"action":"remove","lines":["    "],"id":12937},{"start":{"row":462,"column":4},"end":{"row":462,"column":8},"action":"remove","lines":["    "]},{"start":{"row":462,"column":0},"end":{"row":462,"column":4},"action":"remove","lines":["    "]},{"start":{"row":461,"column":48},"end":{"row":462,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":460,"column":35},"end":{"row":461,"column":36},"action":"insert","lines":["","            .interpolate(\"monotone\")"],"id":12943}],[{"start":{"row":471,"column":55},"end":{"row":472,"column":36},"action":"insert","lines":["","            .interpolate(\"monotone\")"],"id":12944}],[{"start":{"row":545,"column":47},"end":{"row":546,"column":36},"action":"insert","lines":["","            .interpolate(\"monotone\")"],"id":12947}],[{"start":{"row":562,"column":48},"end":{"row":563,"column":36},"action":"insert","lines":["","            .interpolate(\"monotone\")"],"id":12948}],[{"start":{"row":579,"column":55},"end":{"row":580,"column":36},"action":"insert","lines":["","            .interpolate(\"monotone\")"],"id":12949}],[{"start":{"row":581,"column":12},"end":{"row":581,"column":70},"action":"remove","lines":["// title function applied to display more explanatory text"],"id":12950}],[{"start":{"row":580,"column":36},"end":{"row":581,"column":12},"action":"remove","lines":["","            "],"id":12959}],[{"start":{"row":416,"column":15},"end":{"row":416,"column":17},"action":"remove","lines":["75"],"id":12967},{"start":{"row":416,"column":15},"end":{"row":416,"column":16},"action":"insert","lines":["8"]},{"start":{"row":416,"column":16},"end":{"row":416,"column":17},"action":"insert","lines":["0"]}],[{"start":{"row":416,"column":16},"end":{"row":416,"column":17},"action":"remove","lines":["0"],"id":12968}],[{"start":{"row":416,"column":16},"end":{"row":416,"column":17},"action":"insert","lines":["5"],"id":12969}],[{"start":{"row":416,"column":16},"end":{"row":416,"column":17},"action":"remove","lines":["5"],"id":12970}],[{"start":{"row":416,"column":16},"end":{"row":416,"column":17},"action":"insert","lines":["0"],"id":12971}],[{"start":{"row":435,"column":38},"end":{"row":435,"column":39},"action":"remove","lines":["7"],"id":12972},{"start":{"row":435,"column":38},"end":{"row":435,"column":39},"action":"insert","lines":["8"]}],[{"start":{"row":417,"column":17},"end":{"row":417,"column":18},"action":"remove","lines":["0"],"id":12973},{"start":{"row":417,"column":17},"end":{"row":417,"column":18},"action":"insert","lines":["4"]}],[{"start":{"row":416,"column":16},"end":{"row":416,"column":17},"action":"remove","lines":["0"],"id":12974},{"start":{"row":416,"column":16},"end":{"row":416,"column":17},"action":"insert","lines":["5"]}],[{"start":{"row":435,"column":39},"end":{"row":435,"column":40},"action":"remove","lines":["0"],"id":12975},{"start":{"row":435,"column":39},"end":{"row":435,"column":40},"action":"insert","lines":["5"]}],[{"start":{"row":435,"column":43},"end":{"row":435,"column":44},"action":"remove","lines":["4"],"id":12978},{"start":{"row":435,"column":43},"end":{"row":435,"column":44},"action":"insert","lines":["5"]}],[{"start":{"row":417,"column":17},"end":{"row":417,"column":18},"action":"remove","lines":["4"],"id":12979},{"start":{"row":417,"column":17},"end":{"row":417,"column":18},"action":"insert","lines":["5"]}],[{"start":{"row":417,"column":17},"end":{"row":417,"column":18},"action":"remove","lines":["5"],"id":12980},{"start":{"row":417,"column":16},"end":{"row":417,"column":17},"action":"remove","lines":["3"]}],[{"start":{"row":417,"column":16},"end":{"row":417,"column":17},"action":"insert","lines":["3"],"id":12981}],[{"start":{"row":417,"column":17},"end":{"row":417,"column":18},"action":"insert","lines":["3"],"id":12982}],[{"start":{"row":435,"column":43},"end":{"row":435,"column":44},"action":"remove","lines":["5"],"id":12983},{"start":{"row":435,"column":43},"end":{"row":435,"column":44},"action":"insert","lines":["3"]}],[{"start":{"row":435,"column":43},"end":{"row":435,"column":44},"action":"remove","lines":["3"],"id":12984},{"start":{"row":435,"column":43},"end":{"row":435,"column":44},"action":"insert","lines":["4"]}],[{"start":{"row":504,"column":15},"end":{"row":504,"column":16},"action":"remove","lines":["7"],"id":12985},{"start":{"row":504,"column":15},"end":{"row":504,"column":16},"action":"insert","lines":["8"]}],[{"start":{"row":505,"column":17},"end":{"row":505,"column":18},"action":"remove","lines":["0"],"id":12986}],[{"start":{"row":505,"column":17},"end":{"row":505,"column":18},"action":"insert","lines":["3"],"id":12987}],[{"start":{"row":529,"column":34},"end":{"row":529,"column":45},"action":"remove","lines":["0 0 700 340"],"id":12988},{"start":{"row":529,"column":34},"end":{"row":529,"column":45},"action":"insert","lines":["0 0 850 340"]}],[{"start":{"row":505,"column":17},"end":{"row":505,"column":18},"action":"remove","lines":["3"],"id":12989},{"start":{"row":505,"column":17},"end":{"row":505,"column":18},"action":"insert","lines":["2"]}],[{"start":{"row":529,"column":43},"end":{"row":529,"column":44},"action":"remove","lines":["4"],"id":12990},{"start":{"row":529,"column":43},"end":{"row":529,"column":44},"action":"insert","lines":["5"]}],[{"start":{"row":505,"column":17},"end":{"row":505,"column":18},"action":"remove","lines":["2"],"id":12991},{"start":{"row":505,"column":17},"end":{"row":505,"column":18},"action":"insert","lines":["1"]}],[{"start":{"row":529,"column":43},"end":{"row":529,"column":44},"action":"remove","lines":["5"],"id":12992},{"start":{"row":529,"column":43},"end":{"row":529,"column":44},"action":"insert","lines":["4"]}],[{"start":{"row":529,"column":39},"end":{"row":529,"column":40},"action":"remove","lines":["5"],"id":12993},{"start":{"row":529,"column":39},"end":{"row":529,"column":40},"action":"insert","lines":["4"]}],[{"start":{"row":504,"column":16},"end":{"row":504,"column":17},"action":"remove","lines":["5"],"id":12994},{"start":{"row":504,"column":16},"end":{"row":504,"column":17},"action":"insert","lines":["4"]}],[{"start":{"row":416,"column":16},"end":{"row":416,"column":17},"action":"remove","lines":["5"],"id":12995},{"start":{"row":416,"column":16},"end":{"row":416,"column":17},"action":"insert","lines":["4"]}],[{"start":{"row":417,"column":17},"end":{"row":417,"column":18},"action":"remove","lines":["3"],"id":12996},{"start":{"row":417,"column":17},"end":{"row":417,"column":18},"action":"insert","lines":["1"]}],[{"start":{"row":435,"column":39},"end":{"row":435,"column":40},"action":"remove","lines":["5"],"id":12997},{"start":{"row":435,"column":39},"end":{"row":435,"column":40},"action":"insert","lines":["4"]}],[{"start":{"row":226,"column":50},"end":{"row":226,"column":51},"action":"remove","lines":["w"],"id":12998}],[{"start":{"row":226,"column":51},"end":{"row":226,"column":52},"action":"insert","lines":["w"],"id":12999}]]},"ace":{"folds":[],"scrolltop":840,"scrollleft":0,"selection":{"start":{"row":66,"column":7},"end":{"row":66,"column":17},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":84,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1562660693504}